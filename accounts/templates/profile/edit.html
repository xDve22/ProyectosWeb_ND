{% extends "base.html" %}
{% load static %}

{% block content %}
 <link rel="stylesheet" href="{% static 'jobs/edit_profile.css' %}" />

<div class="edit-profile">
  <div class="edit-profile__card">
    <h1 class="edit-profile__title">Edit Profile</h1>
    <form method="post" enctype="multipart/form-data" class="edit-profile__form">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="form-errors">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div class="form-group form-group--full">
        <label for="{{ form.bio.id_for_label }}" class="form-group__label">{{ form.bio.label }}</label>
        {{ form.bio }}
        {% if form.bio.errors %}
          <small class="form-group__error">{{ form.bio.errors|striptags }}</small>
        {% endif %}
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="{{ form.birth_date.id_for_label }}" class="form-group__label">{{ form.birth_date.label }}</label>
          {{ form.birth_date }}
          {% if form.birth_date.errors %}
            <small class="form-group__error">{{ form.birth_date.errors|striptags }}</small>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.phone.id_for_label }}" class="form-group__label">{{ form.phone.label }}</label>
          {{ form.phone }}
          {% if form.phone.errors %}
            <small class="form-group__error">{{ form.phone.errors|striptags }}</small>
          {% endif %}
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="{{ form.address.id_for_label }}" class="form-group__label">{{ form.address.label }}</label>
          {{ form.address }}
          {% if form.address.errors %}
            <small class="form-group__error">{{ form.address.errors|striptags }}</small>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="{{ form.city.id_for_label }}" class="form-group__label">{{ form.city.label }}</label>
          {{ form.city }}
          {% if form.city.errors %}
            <small class="form-group__error">{{ form.city.errors|striptags }}</small>
          {% endif %}
        </div>
      </div>

      <div class="form-group form-group--full">
        <label for="{{ form.country.id_for_label }}" class="form-group__label">{{ form.country.label }}</label>
        {{ form.country }}
        {% if form.country.errors %}
          <small class="form-group__error">{{ form.country.errors|striptags }}</small>
        {% endif %}
      </div>

      <div class="form-group form-group--full">
        <label class="form-group__label">{{ form.avatar.label }}</label>
        <div class="dropbox" data-type="avatar">
          <div class="dropbox__input">
            {{ form.avatar }}
            <div class="dropbox__visual">
              <img src="{% static 'icons/icon-upload.svg' %}" alt="Upload" class="dropbox__icon">
              <p class="dropbox__text">Drag & Drop files here</p>
              <p class="dropbox__or">or</p>
              <label for="{{ form.avatar.id_for_label }}" class="dropbox__button">Browse Files</label>
            </div>
            <span class="dropbox__filename">Ning√∫n archivo seleccionado</span>
          </div>
        </div>
        {% if form.avatar.errors %}
          <small class="form-group__error">{{ form.avatar.errors|striptags }}</small>
        {% endif %}
      </div>

      <div class="edit-profile__actions">
        <button type="submit" class="btn--save">Save</button>
        <a href="{% url 'accounts:profile_detail' %}" class="btn--back">Back to Profile</a>
      </div>
    </form>
  </div>
</div>
<script src="{% static 'jobs/js/drag-drop-avatar.js' %}"></script>
{% endblock %}
